{% extends "base.html" %}

{% block page_title %}Help & Support{% endblock %}

{% block content %}
<div class="help-container">
    <div class="row mb-4">
        <div class="col-lg-8 mb-4">
            <div class="card help-card">
                <div class="card-header">
                    <div class="section-header">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-help-circle"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                        <h5 class="mb-0">Frequently Asked Questions</h5>
                    </div>
                </div>
                <div class="card-body">
                    <div class="faq-item">
                        <div class="faq-question">What file formats can I upload for analysis?</div>
                        <div class="faq-answer">
                            MailThreat Scanner supports .eml (raw email), .msg (Outlook email), .txt (text), and .pdf files for analysis. 
                            The maximum file size is 25MB.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">What security checks are performed on emails?</div>
                        <div class="faq-answer">
                            We perform comprehensive security analysis including:
                            <ul>
                                <li>Email authentication (SPF, DKIM, DMARC)</li>
                                <li>Sender and domain reputation assessment</li>
                                <li>IP geolocation and reputation</li>
                                <li>URL extraction and threat scanning</li>
                                <li>Attachment analysis for malicious content</li>
                                <li>QR code detection and analysis</li>
                                <li>Audio file transcription and analysis for vishing attempts</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">What do the different threat levels mean?</div>
                        <div class="faq-answer">
                            <p>Our system classifies emails into three threat categories:</p>
                            <ul>
                                <li><strong>Safe (Low Risk):</strong> No suspicious elements detected. The email passes all security checks.</li>
                                <li><strong>Suspicious (Medium Risk):</strong> Some suspicious elements detected, but no clear malicious intent. Exercise caution.</li>
                                <li><strong>Malicious (High Risk):</strong> Clear indicators of malicious intent or known threat patterns detected. Avoid interacting with the email.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">How can I paste email content directly?</div>
                        <div class="faq-answer">
                            From the Email Analysis page, click on the "Paste Content" tab. You can then paste the full raw email (including headers) into the text area and click "Start Analysis" to process it.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">Is my email data kept private?</div>
                        <div class="faq-answer">
                            Yes. Your email data is only used for the security analysis and is not shared with third parties. You can control data retention in Settings, including options to automatically delete scan history after 30 days.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">How do I export scan reports?</div>
                        <div class="faq-answer">
                            Each report has an "Export Report" button that allows you to download a PDF version of the analysis results. You can also export your entire scan history in CSV or JSON format from the Settings page.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">What should I do if a malicious email is detected?</div>
                        <div class="faq-answer">
                            If a malicious email is detected, follow these steps:
                            <ol>
                                <li>Do not click any links or open any attachments</li>
                                <li>Do not reply to the sender</li>
                                <li>Report the email to your IT department or email provider</li>
                                <li>Delete the email from your inbox</li>
                                <li>If you've already interacted with the email, change any potentially compromised passwords immediately</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">Are there API keys I need to configure?</div>
                        <div class="faq-answer">
                            The application comes with basic functionality out of the box. For enhanced analysis capabilities, you can connect third-party services like VirusTotal, URLScan.io, and IPWhois by adding your API keys in the Settings page.
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card help-card mb-4">
                <div class="card-header">
                    <div class="section-header">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                        <h5 class="mb-0">Forward For Analysis</h5>
                    </div>
                </div>
                <div class="card-body">
                    <p>You can also forward suspicious emails directly to our analysis service:</p>
                    
                    <div class="forward-email-address my-3">
                        <div class="input-group">
                            <input type="text" class="form-control" value="scan@mailthreat-scanner.com" readonly>
                            <button class="btn btn-outline-secondary" type="button" id="copyForwardEmailBtn" data-copy="forwardEmailAddress">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                                Copy
                            </button>
                        </div>
                    </div>
                    
                    <p class="small text-muted">
                        The analysis results will be sent back to your email address and also saved in your account's scan history.
                    </p>
                </div>
            </div>

            <div class="card help-card">
                <div class="card-header">
                    <div class="section-header">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-circle"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                        <h5 class="mb-0">Contact Support</h5>
                    </div>
                </div>
                <div class="card-body">
                    <p>Need additional help? Contact our support team:</p>
                    
                    <div class="contact-methods">
                        <div class="contact-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                            <div>
                                <strong>Email Support</strong><br>
                                <a href="mailto:support@mailthreat-scanner.com">support@mailthreat-scanner.com</a>
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                            <div>
                                <strong>Live Chat</strong><br>
                                Available Monday-Friday, 9AM-5PM EST
                            </div>
                        </div>
                        
                        <div class="contact-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-book-open"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                            <div>
                                <strong>Documentation</strong><br>
                                <a href="#" target="_blank">View User Guide</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <button class="btn btn-primary w-100">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-circle me-2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                            Start Live Chat
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy forward email address
        const copyForwardEmailBtn = document.getElementById('copyForwardEmailBtn');
        
        if (copyForwardEmailBtn) {
            copyForwardEmailBtn.addEventListener('click', function() {
                const emailAddress = 'scan@mailthreat-scanner.com';
                
                navigator.clipboard.writeText(emailAddress).then(() => {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg> Copied!';
                    
                    setTimeout(() => {
                        this.innerHTML = originalText;
                    }, 2000);
                }).catch(err => {
                    console.error('Could not copy email: ', err);
                });
            });
        }
    });
</script>
{% endblock %}
